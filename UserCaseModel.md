# 电子商务系统用例模型

## 用户授权

### 用例1: 用户注册与角色授权
- **用例名称**: 用户注册与角色授权
- **参与者**: 管理员、新用户（客户、供应商、管理员）
- **前置条件**: 管理员已登录系统，准备注册新用户并分配角色。
- **后置条件**: 新用户注册成功，并且被分配了相应的角色和权限。
- **主成功场景**:
    1. 管理员选择注册新用户。
    2. 管理员输入新用户的基本信息（用户名、密码等）。
    3. 管理员选择用户类型（管理员、供应商、客户）。
    4. 系统调用`register(User)`方法创建新用户。
    5. 管理员为新用户分配角色。
    6. 系统更新用户与角色的多对多关系。
- **扩展/异常流程**:
    - 如果用户类型选择错误，管理员可以重新选择。

### 用例2: 用户信息更新与权限调整
- **用例名称**: 用户信息更新与权限调整
- **参与者**: 管理员、用户（需更新信息的用户）
- **前置条件**: 用户或管理员需要更新用户信息或调整权限。
- **后置条件**: 用户信息更新成功，权限调整完成。
- **主成功场景**:
    1. 用户或管理员选择更新用户信息。
    2. 用户输入新的信息（如密码、联系方式等）。
    3. 管理员或用户请求更新信息并提交。
    4. 系统调用`modify(User)`方法更新用户信息。
    5. 如有必要，管理员调整用户的角色或直接分配/撤销权限。
    6. 系统更新用户与角色、权限的多对多关系。
- **扩展/异常流程**:
    - 如果新信息不符合要求，系统提示用户重新输入。

### 用例3: 角色创建与权限分配
- **用例名称**: 角色创建与权限分配
- **参与者**: 管理员
- **前置条件**: 管理员需要为系统创建新角色并分配权限。
- **后置条件**: 新角色创建成功，并且被分配了相应的权限。
- **主成功场景**:
    1. 管理员选择创建新角色。
    2. 管理员输入角色名称和描述。
    3. 系统调用`create(Role)`方法创建角色。
    4. 管理员为新角色分配权限。
    5. 系统更新角色与权限的多对多关系。
- **扩展/异常流程**:
    - 如果角色名称已存在，系统提示管理员选择其他名称。

### 用例4: 权限管理
- **用例名称**: 权限管理
- **参与者**: 管理员
- **前置条件**: 管理员需要管理（创建、修改、删除）系统权限。
- **后置条件**: 权限管理操作成功完成。
- **主成功场景**:
    1. 管理员选择管理权限。
    2. 根据需要，管理员创建、修改或删除权限。
    3. 对于创建或修改操作，系统调用`create(Authority)`或`modify(Authority)`方法。
    4. 对于删除操作，系统调用`remove(authorityId)`方法。
    5. 系统更新权限信息及其与其他实体的关系。
- **扩展/异常流程**:
    - 如果尝试删除的权限正在被角色或用户使用，系统提示管理员不能删除。

### 用例5: 用户权限审查
- **用例名称**: 用户权限审查
- **参与者**: 管理员
- **前置条件**: 管理员需要审查特定用户的权限设置。
- **后置条件**: 管理员完成权限审查，必要时进行调整。
- **主成功场景**:
    1. 管理员选择审查用户权限。
    2. 管理员输入或选择需要审查的用户。
    3. 系统显示用户的权限和角色信息。
    4. 管理员根据审查结果调整用户权限或角色。
    5. 系统更新用户与角色、权限的多对多关系。
- **扩展/异常流程**:
    - 如果审查过程中发现权限配置错误，管理员可以立即进行调整。

## 客户管理

### 用例1: 客户注册
- **用例名称**: 客户注册
- **参与者**: 客户
- **前置条件**: 客户访问注册页面。
- **后置条件**: 客户成功创建账户并可以登录系统。
- **主成功场景**:
    1. 客户填写注册信息（姓名、身份证号、邮箱、手机号等）。
    2. 系统调用`register(Customer)`方法创建客户档案。
    3. 客户设置登录密码。
    4. 系统自动为新客户创建一个用户实体，并关联到客户档案。
    5. 客户收到注册成功的通知，并可以登录系统。
- **扩展/异常流程**:
    - 如果提供的邮箱或手机号已被注册，系统提示客户更换。

### 用例2: 客户资料更新
- **用例名称**: 客户资料更新
- **参与者**: 客户、管理员
- **前置条件**: 客户或管理员需要更新客户资料。
- **后置条件**: 客户资料更新成功。
- **主成功场景**:
    1. 客户或管理员选择更新客户资料的选项。
    2. 客户输入新的个人信息（如联系方式、地址等）。
    3. 管理员或客户提交更新请求。
    4. 系统调用`modify(Customer)`方法更新客户资料。
    5. 客户收到资料更新成功的通知。
- **扩展/异常流程**:
    - 如果更新信息不符合要求，系统提示重新输入。

### 用例3: 客户密码修改
- **用例名称**: 客户密码修改
- **参与者**: 客户
- **前置条件**: 客户需要更改登录密码。
- **后置条件**: 客户密码更新成功。
- **主成功场景**:
    1. 客户选择修改密码的选项。
    2. 客户输入当前密码和新密码。
    3. 系统验证当前密码的正确性。
    4. 系统调用`changePassword(OldPassword, NewPassword)`方法更新密码。
    5. 客户收到密码修改成功的通知。
- **扩展/异常流程**:
    - 如果当前密码错误，系统提示客户重新输入。

### 用例4: 客户地址管理
- **用例名称**: 客户地址管理
- **参与者**: 客户
- **前置条件**: 客户需要管理（添加、更新、删除）配送地址。
- **后置条件**: 客户地址管理操作成功完成。
- **主成功场景**:
    1. 客户选择管理地址的选项。
    2. 客户添加或选择要更新的地址信息。
    3. 系统根据操作类型调用`loadAddress(addressId)`、`existsAddress(addressId)`、`loadAddressForList(addressIds)`等方法。
    4. 客户提交地址信息。
    5. 系统保存或更新地址信息，并与客户档案关联。
- **扩展/异常流程**:
    - 如果地址信息不完整或不符合格式，系统提示客户重新输入。

### 用例5: 客户资料删除
- **用例名称**: 客户资料删除
- **参与者**: 管理员
- **前置条件**: 管理员需要删除不再需要的客户资料。
- **后置条件**: 客户资料和相关联的用户实体被删除。
- **主成功场景**:
    1. 管理员选择删除客户资料的选项。
    2. 管理员输入或选择要删除的客户。
    3. 系统调用`remove(customerId)`方法删除客户资料。
    4. 系统检查并删除与客户相关的所有信息，如地址、订单等。
    5. 管理员收到客户资料删除成功的通知。
- **扩展/异常流程**:
    - 如果客户资料正在被其他流程使用，系统提示管理员不能删除。

## 会员管理

### 用例1: 会员注册
- **用例名称**: 会员注册
- **参与者**: 客户
- **前置条件**: 客户访问会员注册页面。
- **后置条件**: 客户成功注册成为会员。
- **主成功场景**:
    1. 客户填写注册信息（包括但不限于姓名、联系方式等）。
    2. 客户阅读并同意会员注册条款。
    3. 系统验证注册信息的有效性。
    4. 系统为新会员创建账户，并分配初始会员等级。
    5. 客户收到注册成功的通知，并被引导至会员专区。
- **扩展/异常流程**:
    - 如果注册信息不符合要求，系统提示客户更正。

### 用例2: 会员资料更新
- **用例名称**: 会员资料更新
- **参与者**: 会员
- **前置条件**: 会员需要更新其注册资料。
- **后置条件**: 会员资料更新成功。
- **主成功场景**:
    1. 会员登录系统并选择更新资料选项。
    2. 会员输入新的个人信息。
    3. 系统验证新信息的有效性。
    4. 系统更新会员资料。
    5. 会员收到资料更新成功的通知。
- **扩展/异常流程**:
    - 如果新信息不符合要求，系统提示会员重新输入。

### 用例3: 积分规则设置
- **用例名称**: 积分规则设置
- **参与者**: 管理员
- **前置条件**: 管理员需要设置或更新积分规则。
- **后置条件**: 积分规则设置成功。
- **主成功场景**:
    1. 管理员选择设置积分规则的选项。
    2. 管理员输入积分规则详情（如每消费金额对应的积分数、积分上限等）。
    3. 系统调用`create(PointsRule)`或`modify(PointsRule)`方法创建或更新积分规则。
    4. 系统保存新的积分规则。
    5. 管理员收到积分规则设置成功的通知。
- **扩展/异常流程**:
    - 如果积分规则信息不完整或不符合逻辑，系统提示管理员更正。

### 用例4: 会员积分计算
- **用例名称**: 会员积分计算
- **参与者**: 会员
- **前置条件**: 会员进行了购物消费。
- **后置条件**: 会员获得相应积分。
- **主成功场景**:
    1. 会员完成购物并提交订单。
    2. 系统根据积分规则调用`calculatePoints(vipId, amount)`方法计算积分。
    3. 系统将计算得到的积分添加到会员账户。
    4. 会员在订单确认页面看到积分获得情况。
    5. 会员收到积分获得的通知。
- **扩展/异常流程**:
    - 如果积分计算过程中发现问题，系统记录错误并通知管理员。

### 用例5: 会员等级升级
- **用例名称**: 会员等级升级
- **参与者**: 会员
- **前置条件**: 会员积累了足够的积分。
- **后置条件**: 会员等级提升。
- **主成功场景**:
    1. 系统定期检查会员积分，并调用`calculateLevel(vipId)`方法计算会员等级。
    2. 如果会员积分达到升级条件，系统更新会员等级。
    3. 会员在会员专区看到等级更新。
    4. 会员收到等级提升的通知，了解新等级的特权。
- **扩展/异常流程**:
    - 如果积分计算或等级更新过程中出现问题，系统记录错误并通知管理员。

### 用例6: 会员等级规则设置
- **用例名称**: 会员等级规则设置
- **参与者**: 管理员
- **前置条件**: 管理员需要设置或更新会员等级升级规则。
- **后置条件**: 会员等级规则设置成功。
- **主成功场景**:
    1. 管理员选择设置会员等级规则的选项。
    2. 管理员输入等级规则详情（如各等级所需的积分）。
    3. 系统调用`create(UpgroundRule)`或`modify(UpgroundRule)`方法创建或更新等级规则。
    4. 系统保存新的等级规则。
    5. 管理员收到等级规则设置成功的通知。
- **扩展/异常流程**:
    - 如果等级规则信息不完整或不符合逻辑，系统提示管理员更正。

## 供应商管理

### 用例1: 供应商注册
- **用例名称**: 供应商注册
- **参与者**: 系统管理员、潜在供应商
- **前置条件**: 系统管理员已登录系统，准备添加新的供应商。
- **后置条件**: 新供应商成功注册并可以进行后续操作。
- **主成功场景**:
    1. 系统管理员选择添加新供应商的选项。
    2. 系统管理员输入供应商的基本信息（名称、联系电话、电子邮箱、地址等）。
    3. 系统管理员调用`create(Supplier)`方法创建供应商记录。
    4. 系统为供应商创建第一个员工账户。
    5. 系统管理员收到供应商注册成功的通知。
- **扩展/异常流程**:
    - 如果输入的信息不完整或不符合要求，系统提示管理员重新输入。

### 用例2: 供应商信息更新
- **用例名称**: 供应商信息更新
- **参与者**: 系统管理员、供应商员工
- **前置条件**: 供应商或其员工需要更新供应商信息。
- **后置条件**: 供应商信息更新成功。
- **主成功场景**:
    1. 供应商或其员工登录系统并选择更新供应商信息的选项。
    2. 输入新的供应商信息（如联系电话、电子邮箱等）。
    3. 提交更新请求。
    4. 系统管理员审核并调用`modify(Supplier)`方法更新供应商信息。
    5. 供应商收到信息更新成功的通知。
- **扩展/异常流程**:
    - 如果更新请求被拒绝，系统通知供应商原因并要求重新提交。

### 用例3: 供应商信息查询
- **用例名称**: 供应商信息查询
- **参与者**: 系统管理员、其他授权用户
- **前置条件**: 需要查询供应商的详细信息。
- **后置条件**: 查询到供应商的详细信息。
- **主成功场景**:
    1. 用户选择查询供应商信息的选项。
    2. 输入或选择需要查询的供应商。
    3. 系统调用`load(supplierId)`方法获取供应商信息。
    4. 系统展示供应商的详细信息。
- **扩展/异常流程**:
    - 如果供应商不存在，系统提示用户无此供应商信息。

### 用例4: 供应商删除
- **用例名称**: 供应商删除
- **参与者**: 系统管理员
- **前置条件**: 系统管理员需要从系统中删除一个不再合作的供应商。
- **后置条件**: 供应商信息及其相关联的员工、产品、库存和销售信息被删除。
- **主成功场景**:
    1. 系统管理员选择删除供应商的选项。
    2. 输入或选择需要删除的供应商。
    3. 系统管理员确认删除操作。
    4. 系统调用`remove(supplierId)`方法删除供应商记录。
    5. 系统管理员收到供应商删除成功的通知。
- **扩展/异常流程**:
    - 如果供应商正在参与未完成的订单或库存操作，系统提示不能删除。

### 用例5: 供应商员工管理
- **用例名称**: 供应商员工管理
- **参与者**: 系统管理员、供应商
- **前置条件**: 供应商需要管理其员工信息，如添加新员工或更新员工信息。
- **后置条件**: 供应商员工信息管理成功。
- **主成功场景**:
    1. 供应商或其员工登录系统并选择管理员工的选项。
    2. 供应商输入员工的基本信息和权限设置。
    3. 提交员工信息。
    4. 系统管理员审核并确认员工信息。
    5. 系统更新员工信息，并关联到相应供应商。
- **扩展/异常流程**:
    - 如果员工信息不符合要求，系统提示供应商重新输入。

## 商品管理

### 用例1: 商品分类管理
- **用例名称**: 商品分类管理
- **参与者**: 系统管理员、供应商员工
- **前置条件**: 参与者已登录系统并有权管理商品分类。
- **后置条件**: 商品分类信息成功创建、更新或删除。
- **主成功场景**:
    1. 参与者选择管理商品分类的选项。
    2. 参与者创建或选择要更新的商品分类。
    3. 系统调用`load(categoryId)`、`exists(categoryId)`或`loadAll()`方法以获取分类信息。
    4. 参与者输入或更新分类信息（如名称、描述、上级分类ID等）。
    5. 系统调用`create(ProductCategory)`或`modify(ProductCategory)`方法保存更新。
    6. 参与者收到操作成功的通知。
- **扩展/异常流程**:
    - 如果分类信息不完整或存在冲突（如循环引用），系统提示参与者更正。

### 用例2: 品牌管理
- **用例名称**: 品牌管理
- **参与者**: 系统管理员、供应商员工
- **前置条件**: 参与者已登录系统并有权管理品牌信息。
- **后置条件**: 品牌信息成功创建、更新或删除。
- **主成功场景**:
    1. 参与者选择管理品牌的选项。
    2. 参与者创建或选择要更新的品牌。
    3. 系统调用`load(brandId)`、`exists(brandId)`或`loadAll()`方法以获取品牌信息。
    4. 参与者输入或更新品牌信息（如名称、描述等）。
    5. 系统调用`create(Brand)`或`modify(Brand)`方法保存更新。
    6. 参与者收到操作成功的通知。
- **扩展/异常流程**:
    - 如果品牌信息已存在或不符合命名规范，系统提示参与者重新输入。

### 用例3: 商品信息录入
- **用例名称**: 商品信息录入
- **参与者**: 供应商员工
- **前置条件**: 供应商员工已登录系统并准备添加新商品。
- **后置条件**: 新商品信息成功录入系统。
- **主成功场景**:
    1. 供应商员工选择添加新商品的选项。
    2. 员工输入商品的详细信息（如名称、描述、分类、品牌、价格等）。
    3. 系统验证信息的完整性和正确性。
    4. 系统保存新商品信息。
    5. 员工收到商品添加成功的通知。
- **扩展/异常流程**:
    - 如果商品信息缺失或无效，系统提示员工补充或更正信息。

### 用例4: 商品信息更新
- **用例名称**: 商品信息更新
- **参与者**: 供应商员工
- **前置条件**: 已存在商品信息需要更新。
- **后置条件**: 商品信息更新成功。
- **主成功场景**:
    1. 供应商员工选择更新商品信息的选项。
    2. 员工检索并选择要更新的商品。
    3. 员工修改商品信息（如价格、库存、描述等）。
    4. 系统保存更新后的商品信息。
    5. 员工收到商品信息更新成功的通知。
- **扩展/异常流程**:
    - 如果更新导致库存数量为负，系统提示员工检查数量设置。

### 用例5: 商品信息查询
- **用例名称**: 商品信息查询
- **参与者**: 系统管理员、供应商员工、客户
- **前置条件**: 需要查询特定商品或商品列表的信息。
- **后置条件**: 查询到商品的详细信息。
- **主成功场景**:
    1. 参与者选择查询商品的选项。
    2. 参与者输入查询条件（如商品名称、分类、品牌等）。
    3. 系统根据条件检索商品信息。
    4. 系统展示匹配的商品列表和详细信息。
    5. 参与者查看商品信息。
- **扩展/异常流程**:
    - 如果没有商品匹配查询条件，系统通知参与者无结果。

### 用例6: 商品上下架管理
- **用例名称**: 商品上下架管理
- **参与者**: 供应商员工
- **前置条件**: 需要对商品进行上架或下架操作。
- **后置条件**: 商品成功上架或下架。
- **主成功场景**:
    1. 供应商员工选择商品上下架的选项。
    2. 员工选择要操作的商品。
    3. 员工执行上架或下架操作。
    4. 系统更新商品的上架状态。
    5. 员工收到商品上下架操作成功的通知。
- **扩展/异常流程**:
    - 如果商品下架时有未完成的订单，系统提示员工处理相关订单。

## 库存管理

### 用例1: 库存初始化
- **用例名称**: 库存初始化
- **参与者**: 供应商员工、系统管理员
- **前置条件**: 新商品添加到系统，需要初始化库存数量。
- **后置条件**: 商品库存初始化成功。
- **主成功场景**:
    1. 参与者选择初始化库存的选项。
    2. 输入商品ID和初始库存数量。
    3. 系统调用`stockIn(id, quantity)`方法，为商品创建库存记录。
    4. 系统确认库存初始化成功。
    5. 参与者收到库存初始化成功的通知。
- **扩展/异常流程**:
    - 如果商品ID不存在，系统提示错误并要求重新输入。

### 用例2: 库存入库操作
- **用例名称**: 库存入库操作
- **参与者**: 仓库管理员、供应商员工
- **前置条件**: 商品需要补充库存。
- **后置条件**: 库存成功增加。
- **主成功场景**:
    1. 参与者选择进行库存入库的选项。
    2. 输入商品ID和入库数量。
    3. 系统检查商品是否存在。
    4. 系统调用`stockIn(id, quantity)`方法，更新库存数量。
    5. 参与者收到库存更新成功的通知。
- **扩展/异常流程**:
    - 如果输入的数量导致库存溢出，系统提示最大库存限制。

### 用例3: 库存出库操作
- **用例名称**: 库存出库操作
- **参与者**: 仓库管理员、订单处理员
- **前置条件**: 客户下单成功，需要从库存中扣除相应商品。
- **后置条件**: 库存成功减少，订单处理继续。
- **主成功场景**:
    1. 订单处理员确认订单并选择出库操作。
    2. 输入商品ID和出库数量。
    3. 系统调用`stockOut(id, quantity)`方法，处理库存扣减。
    4. 系统检查库存是否充足，如果不足则提示错误。
    5. 库存成功扣减后，订单进入发货流程。
- **扩展/异常流程**:
    - 如果库存不足，系统阻止出库操作并通知订单处理员。

### 用例4: 库存盘点
- **用例名称**: 库存盘点
- **参与者**: 仓库管理员
- **前置条件**: 需要进行库存盘点以确保库存准确性。
- **后置条件**: 库存盘点完成，差异得到处理。
- **主成功场景**:
    1. 仓库管理员选择库存盘点的选项。
    2. 系统列出所有库存商品供管理员核对。
    3. 管理员核对实际库存与系统记录。
    4. 如有差异，管理员更新库存数量。
    5. 系统调用`stockIn(id, quantity)`或`stockOut(id, quantity)`方法调整库存。
    6. 管理员收到库存盘点完成的通知。
- **扩展/异常流程**:
    - 如果盘点过程中发现大量差异，可能需要进一步调查原因。

### 用例5: 库存记录查询
- **用例名称**: 库存记录查询
- **参与者**: 仓库管理员、供应商员工
- **前置条件**: 需要查询商品的库存变动历史。
- **后置条件**: 查询到商品的库存记录。
- **主成功场景**:
    1. 参与者选择查询库存记录的选项。
    2. 输入商品ID或时间范围等查询条件。
    3. 系统检索库存记录。
    4. 系统展示库存变动的详细列表。
    5. 参与者分析库存记录，进行必要的操作。
- **扩展/异常流程**:
    - 如果没有库存记录匹配查询条件，系统通知参与者无结果。

### 用例6: 库存预警设置
- **用例名称**: 库存预警设置
- **参与者**: 供应商员工、系统管理员
- **前置条件**: 需要设置库存预警以避免缺货或过剩库存。
- **后置条件**: 库存预警设置成功。
- **主成功场景**:
    1. 参与者选择设置库存预警的选项。
    2. 输入商品ID和预警阈值。
    3. 系统记录预警设置，并在库存低于阈值时通知相关人员。
    4. 参与者收到预警设置成功的通知。
- **扩展/异常流程**:
    - 如果输入的阈值不合理（如负数或过大），系统提示参与者重新设置。

## 订单管理

### 用例1: 客户下单
- **用例名称**: 客户下单
- **参与者**: 客户
- **前置条件**: 客户已选择商品并加入购物车。
- **后置条件**: 订单成功创建并等待支付或发货。
- **主成功场景**:
    1. 客户查看购物车并确认商品无误。
    2. 客户输入或确认收货地址和联系方式。
    3. 客户选择支付方式并提交订单。
    4. 系统生成订单并调用`Order`服务创建订单记录。
    5. 客户收到订单确认信息，订单进入支付或发货流程。
- **扩展/异常流程**:
    - 如果支付失败，系统允许客户重新支付或取消订单。

### 用例2: 订单支付
- **用例名称**: 订单支付
- **参与者**: 客户
- **前置条件**: 客户已提交订单并选择支付方式。
- **后置条件**: 订单支付成功或支付失败处理。
- **主成功场景**:
    1. 客户在订单页面选择支付方式。
    2. 系统调用`Payment`服务创建支付记录。
    3. 客户完成支付操作。
    4. 系统更新支付状态为“支付成功”。
    5. 订单进入发货流程。
- **扩展/异常流程**:
    - 如果支付超时或失败，系统提供重新支付选项或取消订单。

### 用例3: 订单状态查询
- **用例名称**: 订单状态查询
- **参与者**: 客户、供应商员工
- **前置条件**: 客户或员工需要查询订单状态。
- **后置条件**: 查询到订单的当前状态和详细信息。
- **主成功场景**:
    1. 参与者输入订单ID或客户信息进行查询。
    2. 系统检索订单记录。
    3. 系统展示订单的详细信息和当前状态。
    4. 参与者根据订单状态进行后续操作。
- **扩展/异常流程**:
    - 如果没有找到订单，系统提示无此订单信息。

### 用例4: 订单修改
- **用例名称**: 订单修改
- **参与者**: 客户、供应商员工
- **前置条件**: 订单已创建但尚未支付或发货，需要修改。
- **后置条件**: 订单信息更新成功。
- **主成功场景**:
    1. 客户或员工选择修改订单的选项。
    2. 输入需要修改的信息（如地址、商品数量等）。
    3. 系统验证修改的可行性。
    4. 系统更新订单信息。
    5. 参与者收到订单修改成功的通知。
- **扩展/异常流程**:
    - 如果订单状态不允许修改，系统提示修改失败。

### 用例5: 订单取消
- **用例名称**: 订单取消
- **参与者**: 客户、供应商员工
- **前置条件**: 订单需要取消，可能由于客户改变主意或商品问题。
- **后置条件**: 订单状态更新为“已取消”，并进行相应的退款操作。
- **主成功场景**:
    1. 客户或员工选择取消订单的选项。
    2. 系统检查订单是否符合取消条件。
    3. 系统更新订单状态为“已取消”。
    4. 如有支付发生，系统调用`refund(orderId)`方法处理退款。
    5. 参与者收到订单取消成功的通知。
- **扩展/异常流程**:
    - 如果订单已支付且退款失败，系统记录错误并通知管理员。

### 用例6: 订单发货
- **用例名称**: 订单发货
- **参与者**: 仓库管理员、物流人员
- **前置条件**: 订单已支付，商品库存充足，准备发货。
- **后置条件**: 订单状态更新为“已发货”，并提供物流信息。
- **主成功场景**:
    1. 仓库管理员确认订单支付并检查库存。
    2. 系统调用`stockOut(id, quantity)`方法处理库存出库。
    3. 物流人员标记订单为“已发货”，并输入物流单号。
    4. 系统更新订单状态，并通知客户发货信息。
- **扩展/异常流程**:
    - 如果库存不足，系统阻止发货并通知相关人员。

### 用例7: 订单完成
- **用例名称**: 订单完成
- **参与者**: 客户、仓库管理员
- **前置条件**: 客户收到商品，订单进入完成流程。
- **后置条件**: 订单状态更新为“已完成”。
- **主成功场景**:
    1. 客户确认收货，或系统根据物流信息自动确认收货。
    2. 仓库管理员或系统自动更新订单状态为“已完成”。
    3. 系统记录订单完成时间。
    4. 客户收到订单完成的通知。
- **扩展/异常流程**:
    - 如果客户反馈未收到商品，系统进入问题订单处理流程。
