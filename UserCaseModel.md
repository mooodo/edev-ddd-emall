# 电子商务系统用例模型

## 用户授权
使用本系统所有服务的用户，都必须要先注册并登录用户，才能使用其它功能。本系统的用户分为客户、供应商的员工与本系统的管理员，不同类型的用户对应各自的基本角色，并拥有相应的基本权限。在此基础上，管理员可以通过对角色授权，或者对用户直接授权，来给用户分配其它权限。

### 用例1: 用户注册与角色授权
- **用例名称**: 用户注册与角色授权
- **参与者**: 新用户（客户、供应商、管理员）
- **前置条件**: 无
- **后置条件**: 新用户注册成功，并且根据用户类型分配了相应权限。
- **主成功场景**:
    1. 新用户选择注册新用户。
    2. 新用户输入基本信息（用户名、密码等）。
    3. 新用户选择用户类型（管理员、供应商、客户）。
    4. 系统在后台创建新用户。
    5. 系统根据用户类型为新用户分配角色。
- **扩展/异常流程**:
    - 如果用户名重名，提示选择其它用户名
    - 如果密码为空，提示填写密码
- **其它说明**:
    - 用户类型如果是管理员、供应商、客户，都有对应的角色和权限。
    - 用户类型如果为空，则设置为游客，不分配任何角色和权限。
    - 用户注册时只根据用户类型分配基本角色和权限
    - 更多细节的权限调整，需要管理员通过用户更新来完成

### 用例2: 用户信息更新与权限调整
- **用例名称**: 用户信息更新与权限调整
- **参与者**: 管理员
- **前置条件**: 管理员需要更新用户信息或调整权限。
- **后置条件**: 用户信息更新成功，权限调整完成。
- **主成功场景**:
    1. 管理员查找要更新的用户。
    2. 管理员输入新的信息（如密码、联系方式等），或调整角色与权限的分配/撤销。
    3. 管理员请求更新信息并提交。
    4. 系统在后台更新用户信息及其角色、权限。
- **扩展/异常流程**:
    - 用户编号、用户名不允许修改。
    - 管理员请求删除用户，系统在后台删除该用户及其权限。
- **其它说明**:
    - 新用户注册由用户自己完成，系统只根据用户类型分配基本角色与权限
    - 注册完成以后，其它用户信息的更新、删除、授权，都是由管理员来进行

### 用例3: 角色创建与权限分配
- **用例名称**: 角色创建与权限分配
- **参与者**: 管理员
- **前置条件**: 管理员需要为系统创建新角色并分配权限。
- **后置条件**: 新角色创建成功，并且被分配了相应的权限。
- **主成功场景**:
    1. 管理员选择创建新角色。
    2. 管理员输入角色名称和描述，并为新角色分配权限
    3. 系统在后台创建角色。
- **扩展/异常流程**:
    - 如果角色名称已存在，系统提示管理员选择其他名称。
    - 如果管理员选择更新角色，系统在后台更新角色及其权限。
    - 如果管理员选择删除角色，系统在后台删除角色及其权限。
- **其它说明**:
    - 管理员可以先创建角色，然后将角色分配给用户。
    - 管理员也可以在创建角色的同时，将角色分配给用户。

### 用例4: 权限管理
- **用例名称**: 权限管理
- **参与者**: 管理员
- **前置条件**: 管理员需要管理（创建、修改、删除）系统权限。
- **后置条件**: 权限管理操作成功完成。
- **主成功场景**:
    1. 管理员选择管理权限。
    2. 管理员输入权限名称及其描述，并为新权限分配用户和角色。
    3. 系统在后台创建新权限
- **扩展/异常流程**:
    - 如果管理员选择更新权限，可以更新权限信息、为权限分配用户和角色，并提交后台。
    - 如果管理员选择删除权限，则通过后台删除该权限，并删除对其它用户和角色的授权。

### 用例5: 用户修改密码
- **用例名称**: 用户修改密码
- **参与者**: 用户（客户、供应商、管理员、游客）
- **前置条件**: 该用户已经是注册用户
- **后置条件**: 用户完成自己的密码修改
- **主成功场景**:
    1. 用户选择修改密码的选项。
    2. 用户输入当前密码和新密码。
    3. 系统验证当前密码的正确性。
    4. 系统通过后台更新密码。
    5. 用户收到密码修改成功的通知。
- **扩展/异常流程**:
    - 如果当前密码错误，系统提示用户重新输入。

## 客户管理
客户是在本系统购买商品，真正享受本系统服务的人。所有客户首先需要注册，并登录本系统，才能在本系统查找，并购买各种商品。在下单购买商品时，客户还需要添加配送地址，才能完成订单。

### 用例1: 客户注册
- **用例名称**: 客户注册
- **参与者**: 客户
- **前置条件**: 客户访问注册页面。
- **后置条件**: 客户成功创建账户并可以登录系统。
- **主成功场景**:
    1. 客户填写注册信息（姓名、身份证号、邮箱、手机号等），以及相关的地址信息。
    2. 系统通过后台创建客户档案，并添加地址信息。
    3. 系统自动为新客户创建一个用户实体，并关联到客户档案。
    4. 客户收到注册成功的通知，并可以登录系统。
- **扩展/异常流程**:
    - 如果提供的姓名、身份证号、邮箱、手机号已被注册，系统提示客户更换。

### 用例2: 客户资料更新
- **用例名称**: 客户资料更新
- **参与者**: 客户、管理员
- **前置条件**: 客户或管理员需要更新客户资料。
- **后置条件**: 客户资料更新成功。
- **主成功场景**:
    1. 客户或管理员选择更新客户资料的选项。
    2. 客户更新个人信息（如联系方式、地址等），以及增删改自己的地址信息。
    3. 管理员或客户提交更新请求。
    4. 系统在后台更新客户资料。
    5. 客户收到资料更新成功的通知。
- **扩展/异常流程**:
    - 如果是普通客户只能修改自己的资料，管理员可以修改所有用户，否则请求被拒绝。
- **其它说明**:
    - 客户的地址信息可以在第一次注册的时候添加，也可以在日后更新资料的时候添加、更改或删除。

### 用例3: 客户密码修改
- **用例名称**: 客户密码修改
- **参与者**: 客户
- **前置条件**: 客户需要更改登录密码。
- **后置条件**: 客户密码更新成功。
- **主成功场景**:
    1. 客户选择修改密码的选项。
    2. 客户输入当前密码和新密码。
    3. 系统验证当前密码的正确性。
    4. 系统在后台更新密码。
    5. 客户收到密码修改成功的通知。
- **扩展/异常流程**:
    - 如果当前密码错误，系统提示客户重新输入。
    - 客户只能修改自己的密码，否则无法完成修改。

### 用例4: 客户资料删除
- **用例名称**: 客户资料删除
- **参与者**: 管理员
- **前置条件**: 管理员需要删除不再需要的客户资料。
- **后置条件**: 客户资料和相关联的用户实体被删除。
- **主成功场景**:
    1. 管理员选择删除客户资料的选项。
    2. 管理员输入或选择要删除的客户。
    3. 系统在后台删除客户资料。
    4. 系统检查并删除与客户相关的所有信息，如关联的用户、授权、地址等。
    5. 管理员收到客户资料删除成功的通知。
- **扩展/异常流程**:
    - 无
- **其它说明**:
    - 只有管理员可以删除客户资料

## 会员管理
已经注册的客户可以通过注册会员，享受更多的打折商品及优惠政策。每个客户只能注册一个会员。会员可以通过购买商品来累计积分，提升会员等级，积分也可以用于消费某些打折商品。

### 用例1: 会员注册
- **用例名称**: 会员注册
- **参与者**: 客户
- **前置条件**: 客户已经是注册用户。
- **后置条件**: 客户成功注册成为会员。
- **主成功场景**:
    1. 客户填写注册信息（包括但不限于姓名、联系方式等）。
    2. 客户阅读并同意会员注册条款。
    3. 系统验证注册信息的有效性。
    4. 系统为新会员创建账户，并分配初始会员等级。
    5. 客户收到注册成功的通知，并被引导至会员专区。
- **扩展/异常流程**:
    - 如果客户还不是注册用户，系统提示客户先去注册。

### 用例2: 会员资料更新
- **用例名称**: 会员资料更新
- **参与者**: 会员
- **前置条件**: 会员需要更新其注册资料。
- **后置条件**: 会员资料更新成功。
- **主成功场景**:
    1. 会员登录系统并选择更新资料选项。
    2. 会员输入新的个人信息。
    3. 系统验证新信息的有效性。
    4. 系统更新会员资料。
    5. 会员收到资料更新成功的通知。
- **扩展/异常流程**:
    - 如果新信息不符合要求，系统提示会员重新输入。

### 用例3: 积分规则设置
- **用例名称**: 积分规则设置
- **参与者**: 管理员
- **前置条件**: 管理员需要设置或更新积分规则。
- **后置条件**: 积分规则设置成功。
- **主成功场景**:
    1. 管理员选择设置积分规则的选项。
    2. 管理员输入积分规则详情（如每消费金额对应的积分数、积分上限等）。
    3. 系统保存新的积分规则。
    4. 管理员收到积分规则设置成功的通知。
- **扩展/异常流程**:
    - 如果积分规则信息不完整或不符合逻辑，系统提示管理员更正。

### 用例4: 会员积分计算
- **用例名称**: 会员积分计算
- **参与者**: 会员
- **前置条件**: 会员进行了购物消费。
- **后置条件**: 会员获得相应积分。
- **主成功场景**:
    1. 会员完成购物并提交订单。
    2. 系统根据积分规则计算积分。
    3. 系统将计算得到的积分添加到会员账户。
    4. 会员在订单确认页面看到积分获得情况。
    5. 会员收到积分获得的通知。
- **扩展/异常流程**:
    - 如果积分计算过程中发现问题，系统记录错误并通知管理员。

### 用例5: 会员等级升级
- **用例名称**: 会员等级升级
- **参与者**: 会员
- **前置条件**: 会员积累了足够的积分。
- **后置条件**: 会员等级提升。
- **主成功场景**:
    1. 会员完成购物并提交订单。
    2. 系统在累计积分时计算会员等级。
    3. 如果会员积分达到升级条件，系统更新会员等级。
    4. 会员收到等级提升的通知，了解新等级的特权。
- **扩展/异常流程**:
    - 如果积分计算或等级更新过程中出现问题，系统记录错误并通知管理员。

### 用例6: 会员等级规则设置
- **用例名称**: 会员等级规则设置
- **参与者**: 管理员
- **前置条件**: 管理员需要设置或更新会员等级升级规则。
- **后置条件**: 会员等级规则设置成功。
- **主成功场景**:
    1. 管理员选择设置会员等级规则的选项。
    2. 管理员输入等级规则详情（如各等级所需的积分）。
    3. 系统保存新的等级规则。
    4. 管理员收到等级规则设置成功的通知。
- **扩展/异常流程**:
    - 如果等级规则信息不完整或不符合逻辑，系统提示管理员更正。

## 账户管理
本系统注册的用户，可以通过充值创建自己的账户，然后通过该账户支付订单的金额。

### 用例1: 创建账户
- **用例名称**: 创建账户
- **参与者**: 客户
- **前置条件**: 客户已经完成注册
- **后置条件**: 客户完成账户的创建
- **主成功场景**:
  1. 客户完成注册以后，选择创建账户。
  2. 系统在后台为该客户创建账户。
  3. 系统通知客户完成账户创建。
- **扩展/异常流程**:
  - 客户只能创建自己的账户。

### 用例2: 账户充值
- **用例名称**: 账户充值
- **参与者**: 客户
- **前置条件**: 客户已经完成注册
- **后置条件**: 客户给自己的账户完成充值
- **主成功场景**:
  1. 客户进入自己的账户选择充值。
  2. 系统在后台为该客户的账户完成充值。
  3. 系统通知客户完成账户充值。
- **扩展/异常流程**:
  - 客户只能给自己的账户充值。

### 用例3: 账户支付
- **用例名称**: 账户支付
- **参与者**: 系统
- **前置条件**: 客户已经完成充值
- **后置条件**: 系统用客户的账户完成支付
- **主成功场景**:
  1. 客户完成订单流程，并选择本地支付。
  2. 系统在后台为该订单完成支付。
  3. 系统通知客户完成账户支付。
- **扩展/异常流程**:
  - 客户只能用自己的账户支付。

### 用例4: 账户退款
- **用例名称**: 账户退款
- **参与者**: 系统
- **前置条件**: 客户已经完成支付
- **后置条件**: 系统对客户的账户完成退款
- **主成功场景**:
  1. 客户对自己的订单执行退货，并且该订单是选择的本地支付。
  2. 系统在后台根据该订单的金额进行退款。
  3. 系统通知客户完成账户退款。
- **扩展/异常流程**:
  - 只有选择本地支付的订单进行退货，才用本地账户退款。

## 供应商管理
本系统的所有产品都是由供应商提供，产品信息及其库存都是由供应商各自管理。因此每个供应商都是由管理员创建并添加第一个员工。然后，每个供应商各自去添加并维护各自的员工、产品信息及其产品库存。

### 用例1: 供应商注册
- **用例名称**: 供应商注册
- **参与者**: 系统管理员
- **前置条件**: 系统管理员已登录系统，准备添加新的供应商。
- **后置条件**: 新供应商成功注册并可以进行后续操作。
- **主成功场景**:
    1. 系统管理员选择添加新供应商的选项。
    2. 系统管理员输入供应商的基本信息（名称、联系电话、电子邮箱、地址等）。
    3. 系统管理员通过后台创建供应商记录。
    4. 系统管理员为供应商创建第一个员工账户。
    5. 系统管理员收到供应商注册成功的通知。
- **扩展/异常流程**:
    - 如果输入的信息不完整或不符合要求，系统提示管理员重新输入。
- **其它说明**:
    - 供应商的第一个员工是由管理员创建并分配权限，其它员工则由该员工或管理员添加并授权。

### 用例2: 供应商信息更新
- **用例名称**: 供应商信息更新
- **参与者**: 系统管理员、供应商员工
- **前置条件**: 供应商或其员工需要更新供应商信息。
- **后置条件**: 供应商信息更新成功。
- **主成功场景**:
    1. 供应商或其员工登录系统并选择更新供应商信息的选项。
    2. 输入新的供应商信息（如联系电话、电子邮箱等）。
    3. 提交并在后台更新供应商请求。
    4. 供应商收到信息更新成功的通知。
- **扩展/异常流程**:
    - 无

### 用例3: 供应商信息查询
- **用例名称**: 供应商信息查询
- **参与者**: 系统管理员、其他授权用户
- **前置条件**: 需要查询供应商的详细信息。
- **后置条件**: 查询到供应商的详细信息。
- **主成功场景**:
    1. 用户选择查询供应商信息的选项。
    2. 输入或选择需要查询的供应商。
    3. 系统调用后台获取供应商信息。
    4. 系统展示供应商的详细信息。
- **扩展/异常流程**:
    - 如果供应商不存在，系统提示用户无此供应商信息。

### 用例4: 供应商删除
- **用例名称**: 供应商删除
- **参与者**: 系统管理员
- **前置条件**: 系统管理员需要从系统中删除一个不再合作的供应商。
- **后置条件**: 供应商信息及其相关联的员工、产品、库存和销售信息被删除。
- **主成功场景**:
    1. 系统管理员选择删除供应商的选项。
    2. 输入或选择需要删除的供应商。
    3. 系统管理员确认删除操作。
    4. 系统调用后台删除供应商记录。
    5. 系统管理员收到供应商删除成功的通知。
- **扩展/异常流程**:
    - 如果该供应商存在未完成的订单，系统提示不能删除。
    - 如果该供应商存在商品库存，系统提示先完成出库，然后才能删除。

### 用例5: 供应商员工管理
- **用例名称**: 供应商员工管理
- **参与者**: 系统管理员、供应商的员工
- **前置条件**: 供应商需要管理其员工信息，如添加新员工或更新员工信息。
- **后置条件**: 供应商员工信息管理成功。
- **主成功场景**:
    1. 管理员或供应商的员工登录系统并选择添加员工的选项。
    2. 管理员或供应商输入员工的基本信息和权限设置。
    3. 提交员工信息。
    4. 系统更新员工信息，并关联到相应供应商。
    5. 系统在后台为该员工分配一个用户。
- **扩展/异常流程**:
    - 管理员或供应商选择某个员工，可以修改该员工信息及权限。
    - 管理员或供应商选择某个员工，可以删除该员工信息及权限。
- **其它说明**:
    - 供应商的第一个员工由管理员添加，并分配权限。
    - 供应商的员工必须要有相应权限才能管理员工。

## 商品管理
本系统的所有商品都是由供应商提供，因此添加并维护商品是由各供应商独自去完成，但商品分类及品牌是由管理员进行维护。

### 用例1: 商品分类管理
- **用例名称**: 商品分类管理
- **参与者**: 系统管理员
- **前置条件**: 无
- **后置条件**: 商品分类信息成功创建、更新或删除。
- **主成功场景**:
    1. 管理员选择管理商品分类的选项。
    2. 管理员创建或选择要更新的商品分类。
    3. 系统调用后台获取分类信息。
    4. 管理员输入或更新分类信息（如名称、描述、上级分类ID等）。
    5. 系统调用后台保存或更新分类信息。
    6. 管理员收到操作成功的通知。
- **扩展/异常流程**:
    - 如果分类信息不完整或存在冲突（如循环引用），系统提示管理员更正。

### 用例2: 品牌管理
- **用例名称**: 品牌管理
- **参与者**: 系统管理员
- **前置条件**: 无
- **后置条件**: 品牌信息成功创建、更新或删除。
- **主成功场景**:
    1. 管理员选择管理品牌的选项。
    2. 管理员创建或选择要更新的品牌。
    3. 系统调用后台获取品牌信息。
    4. 管理员输入或更新品牌信息（如名称、描述等）。
    5. 系统调用后台保存或更新品牌信息。
    6. 管理员收到操作成功的通知。
- **扩展/异常流程**:
    - 如果品牌信息已存在或不符合命名规范，系统提示参与者重新输入。

### 用例3: 商品信息录入
- **用例名称**: 商品信息录入
- **参与者**: 供应商员工
- **前置条件**: 供应商员工已登录系统并准备添加新商品。
- **后置条件**: 新商品信息成功录入系统。
- **主成功场景**:
    1. 供应商员工选择添加新商品的选项。
    2. 员工输入商品的详细信息（如名称、描述、分类、品牌、价格等）。
    3. 系统验证信息的完整性和正确性。
    4. 系统保存新商品信息。
    5. 员工收到商品添加成功的通知。
- **扩展/异常流程**:
    - 如果商品信息的名称、分类、品牌、价格缺失或无效，系统提示员工补充或更正信息。

### 用例4: 商品信息更新
- **用例名称**: 商品信息更新
- **参与者**: 供应商员工
- **前置条件**: 已存在商品信息需要更新。
- **后置条件**: 商品信息更新成功。
- **主成功场景**:
    1. 供应商员工选择更新商品信息的选项。
    2. 员工检索并选择要更新的商品。
    3. 员工修改商品信息（如名称、描述、分类、品牌、价格、状态等）。
    4. 系统保存更新后的商品信息。
    5. 员工收到商品信息更新成功的通知。
- **扩展/异常流程**:
    - 如果商品信息的名称、分类、品牌、价格缺失或无效，系统提示员工补充或更正信息。

### 用例5: 商品信息查询
- **用例名称**: 商品信息查询
- **参与者**: 系统管理员、供应商员工、客户
- **前置条件**: 需要查询特定商品或商品列表的信息。
- **后置条件**: 查询到商品的详细信息。
- **主成功场景**:
    1. 参与者选择查询商品的选项。
    2. 参与者输入查询条件（如商品名称、分类、品牌等）。
    3. 系统根据条件检索商品信息。
    4. 系统展示匹配的商品列表和详细信息。
    5. 参与者查看商品信息。
- **扩展/异常流程**:
    - 如果没有商品匹配查询条件，系统通知参与者无结果。

### 用例6: 商品上下架管理
- **用例名称**: 商品上下架管理
- **参与者**: 供应商员工
- **前置条件**: 需要对商品进行上架或下架操作。
- **后置条件**: 商品成功上架或下架。
- **主成功场景**:
    1. 供应商员工选择商品上下架的选项。
    2. 员工选择要操作的商品。
    3. 员工执行上架或下架操作。
    4. 系统更新商品的状态。
    5. 员工收到商品上下架操作成功的通知。
- **扩展/异常流程**:
    - 如果商品下架时有未完成的订单，系统提示员工处理相关订单。

## 库存管理
供应商通过自己的员工，对自己商品的库存进行管理，包括库存的初始化、入库、出库，并记录下所有操作的流水。

### 用例1: 库存初始化
- **用例名称**: 库存初始化
- **参与者**: 供应商员工
- **前置条件**: 新商品添加到系统中。
- **后置条件**: 商品库存初始化成功。
- **主成功场景**:
    1. 该商品供应商的员工选择初始化该商品的库存。
    2. 输入商品ID和初始库存数量。
    3. 系统调用后台，为该商品创建库存记录。
    4. 系统确认库存初始化成功。
    5. 参与者收到库存初始化成功的通知。
- **扩展/异常流程**:
    - 如果商品ID不存在，系统提示错误并要求重新输入。
    - 只有该商品供应商的员工才能操作，否则操作被拒绝。

### 用例2: 库存入库
- **用例名称**: 库存入库
- **参与者**: 供应商员工
- **前置条件**: 商品需要补充库存。
- **后置条件**: 库存成功增加。
- **主成功场景**:
    1. 供应商的员工选择进行库存入库的选项。
    2. 输入商品ID和入库数量。
    3. 系统检查商品是否存在。
    4. 系统调用后台更新库存数量，并记录库存变化流水。
    5. 参与者收到库存更新成功的通知。
- **扩展/异常流程**:
    - 如果该商品的库存没有初始化，先执行初始化操作
    - 只有该商品供应商的员工才能操作，否则操作被拒绝。

### 用例3: 库存出库
- **用例名称**: 库存出库
- **参与者**: 供应商员工、系统后台
- **前置条件**: 客户下单成功，需要从库存中扣除相应商品。
- **后置条件**: 库存成功减少，订单处理继续。
- **主成功场景**:
    1. 供应商员工选择出库操作。
    2. 输入商品ID和出库数量。
    3. 系统调用后台处理库存扣减，并记录库存变化流水。
    4. 库存成功扣减后，订单进入发货流程。
- **扩展/异常流程**:
    - 如果库存不足，系统阻止出库操作并通知订单处理员。
- **其它说明**:
    - 供应商员工通过手工进行库存出库。
    - 在完成订单的流程中，系统后台自动完成库存扣减。

### 用例4: 库存记录查询
- **用例名称**: 库存记录查询
- **参与者**: 供应商员工
- **前置条件**: 需要查询商品的库存变动历史。
- **后置条件**: 查询到商品的库存记录。
- **主成功场景**:
    1. 供应商的员工选择查询库存记录的选项。
    2. 输入商品ID或时间范围等查询条件。
    3. 系统检索库存记录。
    4. 系统展示库存变动的详细列表。
- **扩展/异常流程**:
    - 如果没有库存记录匹配查询条件，系统通知参与者无结果。

## 订单管理

### 用例1: 客户下单
- **用例名称**: 客户下单
- **参与者**: 客户
- **前置条件**: 客户已选择商品并加入购物车。
- **后置条件**: 订单成功创建并等待支付或发货。
- **主成功场景**:
    1. 客户查看购物车并确认商品无误。
    2. 客户输入收货地址及联系方式。
    3. 客户输入商品及其数量并提交订单。
    4. 系统调用订单服务生成订单。
    5. 客户收到订单确认信息，订单进入支付和发货流程。
- **扩展/异常流程**:
    - 如果输入收货地址及联系方式不存在，进入“客户资料更新”用例去添加地址信息。
    - 如果商品库存不够，则提示客户相关信息。

### 用例2: 订单支付
- **用例名称**: 订单支付
- **参与者**: 客户
- **前置条件**: 客户已提交订单。
- **后置条件**: 订单支付成功或支付失败处理。
- **主成功场景**:
    1. 客户在订单页面选择支付方式。
    2. 系统调用后台创建支付记录。
    3. 系统根据支付记录完成支付操作。
    4. 系统根据订单完成库存扣减，进入“库存出库”用例
    5. 系统更新支付状态为“支付成功”。
    6. 订单进入发货流程。
- **扩展/异常流程**:
    - 如果账户余额不足，则系统提示支付失败。
    - 如果支付超时或失败，系统提供重新支付选项或取消订单。
- **其它说明**:
    - 如果支付方式选择支付宝，则远程调用支付宝进行支付。
    - 如果支付方式选择微信，则远程调用微信进行支付。
    - 如果支付方式选择本地账户，则进入“账户支付”用例。

### 用例3: 订单状态查询
- **用例名称**: 订单状态查询
- **参与者**: 客户、供应商员工、管理者
- **前置条件**: 客户或员工需要查询订单状态。
- **后置条件**: 查询到订单的当前状态和详细信息。
- **主成功场景**:
    1. 参与者输入订单ID或客户信息进行查询。
    2. 系统检索订单记录。
    3. 系统展示订单的详细信息和当前状态。
    4. 参与者根据订单状态进行后续操作。
- **扩展/异常流程**:
    - 客户只能查询自己的订单，否则系统提示无此订单信息。
    - 供应商的员工只能查询有自己商品的订单，否则系统提示无此订单信息。
    - 管理者可以查询所有订单。

### 用例4: 订单修改
- **用例名称**: 订单修改
- **参与者**: 客户
- **前置条件**: 订单已创建但尚未支付或发货，需要修改。
- **后置条件**: 订单信息更新成功。
- **主成功场景**:
    1. 客户选择修改订单的选项。
    2. 输入需要修改的信息（如地址、商品数量等）。
    3. 系统验证修改的可行性。
    4. 系统更新订单信息。
    5. 客户收到订单修改成功的通知。
- **扩展/异常流程**:
    - 如果订单状态不允许修改，系统提示修改失败。
    - 客户只能修改自己下的订单

### 用例5: 订单取消
- **用例名称**: 订单取消
- **参与者**: 客户
- **前置条件**: 订单需要取消，可能由于客户改变主意或商品问题。
- **后置条件**: 订单状态更新为“已取消”，并进行相应的退款操作。
- **主成功场景**:
    1. 客户选择取消订单的选项。
    2. 系统检查订单是否符合取消条件。
    3. 系统更新订单状态为“已取消”。
    4. 客户收到订单取消成功的通知。
- **扩展/异常流程**:
    - 如果订单已支付，则系统提示不能取消，只能退货。

### 用例6: 商品退货
- **用例名称**: 商品退货
- **参与者**: 客户
- **前置条件**: 订单已完成，但可能因为商品质量等原因需要退货
- **后置条件**: 订单状态更新为“已退货”，并提供物流信息。
- **主成功场景**:
    1. 客户选择某个订单进行退货。
    2. 系统检查订单是否符合退货条件。
    3. 系统在后台执行退款流程
    4. 系统在后台将商品回退库存，进入“库存入库”用例。
    5. 系统更新订单状态为“已退货”。
    6. 客户收到退货成功的通知。
- **扩展/异常流程**:
    - 如果库存不足，系统阻止发货并通知相关人员。

### 用例7: 订单完成
- **用例名称**: 订单完成
- **参与者**: 客户、仓库管理员
- **前置条件**: 客户收到商品，订单进入完成流程。
- **后置条件**: 订单状态更新为“已完成”。
- **主成功场景**:
    1. 客户确认收货，或系统根据物流信息自动确认收货。
    2. 仓库管理员或系统自动更新订单状态为“已完成”。
    3. 系统记录订单完成时间。
    4. 客户收到订单完成的通知。
- **扩展/异常流程**:
    - 如果客户反馈未收到商品，系统进入问题订单处理流程。
